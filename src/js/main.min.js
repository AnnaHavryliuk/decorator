!function(){"use strict";function t(){var n=new Date,e=31,r=24,o=parseInt(Math.random()*n.getMonth(),10),a=1+parseInt(Math.random()*e,10),s=parseInt(Math.random()*r,10),i=60,u=15,c=30,h=20,d=200;this.lastVisitDate=new Date(n.getFullYear(),o,a,s),this.globalDiscount=parseInt(Math.random()*i,10),this.nightDiscount=1+parseInt(Math.random()*u,10),this.weekendDiscount=1+parseInt(Math.random()*c,10),this.ordersCount=1+parseInt(Math.random()*h,10),this.ordersTotalPrice=this.ordersCount*(1+parseInt(Math.random()*d,10)),this.bonus=0,t.prototype={constructor:t}}function n(t){var n=r(t);return n.getDiscount=function(){var t=this.globalDiscount,n=[0,6],e={FROM:23,TO:5},r=new Date,o=r.getDay(),a=r.getHours();return n.indexOf(o)>=0&&(t+=this.weekendDiscount),(a===e.FROM||a<e.TO)&&(t+=this.weekendDiscount),t},n}function e(t){var n=r(t);return n.getBonus=function(){var t=240,n=1e3,e=60,r=t*e*e*n,o=Date.now(new Date),a=200;return this.bonus=this.bonus+this.ordersCount,o-Date.now(this.lastVisitDate)<=r&&(this.bonus+=parseInt(Math.random()*a,10)),this.bonus},n}function r(t){var n=t;if(Array.isArray(t))n=[],t.forEach(function(t){n.push(r(t))});else if("object"==typeof t){var e=t.prototype||null;n=Object.create(e);var o=Object.getOwnPropertyNames(t);o.forEach(function(e){var o=Object.getOwnPropertyDescriptor(t,e),a=r(t[e]);o.hasOwnProperty("value")&&(o.value=a),Object.defineProperty(n,e,o)})}return n}onload=function(){var r=document.getElementById("discount"),o=document.getElementById("bonus"),a=n(new t);a=e(a),r.innerHTML=a.getDiscount(),o.innerHTML=a.getBonus()}}();